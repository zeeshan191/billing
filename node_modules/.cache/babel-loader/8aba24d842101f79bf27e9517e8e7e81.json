{"ast":null,"code":"var _jsxFileName = \"C:\\\\billing-app-main\\\\src\\\\components\\\\Billings\\\\PrintBill.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport jsPDF from \"jspdf\";\nimport { Container, Grid, Typography, Button } from '@material-ui/core';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PrintBill = props => {\n  _s();\n\n  const {\n    id\n  } = props.match.params;\n  let [uniqueBill, setUniqueBill] = useState({});\n  const [orderDetails, setOrderDetails] = useState([]);\n  const [product, setProduct] = useState('');\n  const [quantity, setQuentity] = useState('');\n  const [price, setPrice] = useState('');\n  const [subTotal, setSubTotal] = useState('');\n  const billCustomer = useSelector(state => {\n    return state.customer.find(c => c._id === uniqueBill.customer);\n  });\n  const billProduct = useSelector(state => {\n    return state.product.find(c => c._id === product);\n  });\n  useEffect(() => {\n    axios.get(`https://dct-billing-app.herokuapp.com/api/bills/${id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n      console.log('result', result);\n      setUniqueBill(result);\n      setOrderDetails(result.lineItems);\n      result.lineItems.map(ele => {\n        setProduct(ele.product);\n        setQuentity(ele.quantity);\n        setPrice(ele.price);\n        setSubTotal(ele.subTotal);\n      });\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }, [id]); //generate pdf\n\n  const generatePDF = () => {\n    let doc = new jsPDF('p', 'pt');\n    doc.text(280, 20, `Bill`);\n    doc.setFont('helvetica'); //   doc.setFontType('normal')\n\n    doc.text(20, 60, `Customer_id: ${billCustomer && billCustomer.name}`);\n    doc.setFont('helvetica'); //   doc.setFontType('normal')\n\n    doc.text(20, 80, `Date: ${uniqueBill.date.slice(0, 10)}`);\n    doc.text(20, 100, `Order Details: \n                        Product_Id: ${billProduct && billProduct.name}\n                        Quantity: ${quantity}\n                        Price: ${price}\n                        Sub-Total: ${subTotal}`);\n    doc.text(20, 200, `Total: ${uniqueBill.total}`);\n    doc.save(`${billCustomer && billCustomer.name}'s Bill.pdf`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        style: {\n          textAlign: 'center',\n          color: 'green'\n        },\n        children: \"Bill-Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Customer:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 33\n        }, this), billCustomer && billCustomer.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 33\n        }, this), \" \", uniqueBill.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Product: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 33\n        }, this), billProduct && billProduct.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Price: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 33\n        }, this), \"\\u20B9\", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Quantity: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }, this), quantity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Sub Total: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }, this), \"\\u20B9\", subTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 33\n        }, this), \" \\u20B9\", uniqueBill.total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            left: 4\n          },\n          startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 60\n          }, this),\n          variant: \"small\",\n          onClick: generatePDF,\n          children: \"Pdf\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PrintBill, \"Nw+bRevkf/WzXtK9Gc7vgsAmyIc=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = PrintBill;\nexport default PrintBill; // const billCustomer=useSelector((state)=>{        \n//     return state.customers.find(c=>c._id === uniqueBill.customer)\n// })\n// console.log(\"BillCustomer\", billCustomer)\n// billCustomer && billCustomer.name\n\nvar _c;\n\n$RefreshReg$(_c, \"PrintBill\");","map":{"version":3,"sources":["C:/billing-app-main/src/components/Billings/PrintBill.js"],"names":["React","useState","useEffect","axios","useSelector","jsPDF","Container","Grid","Typography","Button","SaveIcon","PrintBill","props","id","match","params","uniqueBill","setUniqueBill","orderDetails","setOrderDetails","product","setProduct","quantity","setQuentity","price","setPrice","subTotal","setSubTotal","billCustomer","state","customer","find","c","_id","billProduct","get","headers","localStorage","getItem","then","response","result","data","console","log","lineItems","map","ele","catch","err","message","generatePDF","doc","text","setFont","name","date","slice","total","save","textAlign","color","left"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {useSelector} from 'react-redux'\r\nimport jsPDF from \"jspdf\"\r\nimport {Container, Grid, \r\n         Typography,  Button} from '@material-ui/core'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\n\r\nconst PrintBill = (props) => {\r\n    const {id} = props.match.params\r\n\r\n    let [uniqueBill, setUniqueBill] = useState({})\r\n    const [orderDetails, setOrderDetails] = useState([])\r\n    const [product, setProduct] = useState('')\r\n    const [quantity, setQuentity] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [subTotal, setSubTotal] = useState('')\r\n\r\n    const billCustomer=useSelector((state)=>{        \r\n            return state.customer.find(c=>c._id === uniqueBill.customer)\r\n        })\r\n        \r\n    const billProduct=useSelector((state)=>{        \r\n        return state.product.find(c=>c._id === product)\r\n    })\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`https://dct-billing-app.herokuapp.com/api/bills/${id}`, {\r\n            headers: {\r\n                \"Authorization\" : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then((response)=>{\r\n            const result = response.data\r\n            console.log('result', result)\r\n            setUniqueBill(result)\r\n            setOrderDetails(result.lineItems)\r\n            result.lineItems.map(ele=>{\r\n                setProduct(ele.product)\r\n                setQuentity(ele.quantity)\r\n                setPrice(ele.price)\r\n                setSubTotal(ele.subTotal)\r\n                \r\n            })\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err.message)\r\n        })\r\n    },[id])\r\n\r\n//generate pdf\r\n    const generatePDF = () => {\r\n      let doc = new jsPDF('p', 'pt');\r\n      \r\n      doc.text(280, 20, `Bill`)\r\n\r\n      doc.setFont('helvetica')\r\n    //   doc.setFontType('normal')\r\n      doc.text(20, 60, `Customer_id: ${billCustomer && billCustomer.name}`)\r\n\r\n      doc.setFont('helvetica')\r\n    //   doc.setFontType('normal')\r\n      doc.text(20, 80, `Date: ${uniqueBill.date.slice(0,10)}`)\r\n      \r\n      doc.text(20, 100, `Order Details: \r\n                        Product_Id: ${billProduct && billProduct.name}\r\n                        Quantity: ${quantity}\r\n                        Price: ${price}\r\n                        Sub-Total: ${subTotal}`\r\n        )      \r\n      doc.text(20, 200, `Total: ${uniqueBill.total}`)\r\n      \r\n      doc.save(`${billCustomer && billCustomer.name}'s Bill.pdf`)\r\n    }\r\n\r\n\r\n    return(\r\n        <Container>\r\n            <Grid>\r\n                    <Typography variant = \"h4\" style={{textAlign : 'center', color: 'green'}}>Bill-Details</Typography>\r\n                <hr/>\r\n                    <Typography><b>Customer:</b>{billCustomer && billCustomer.name}</Typography>\r\n                    <Typography><b>Date:</b> {uniqueBill.date}</Typography>\r\n                    <Typography><b>Product: </b>{billProduct && billProduct.name}</Typography>\r\n                    <Typography><b>Price: </b>₹{price}</Typography>\r\n                    <Typography><b>Quantity: </b>{quantity}</Typography>\r\n                    <Typography><b>Sub Total: </b>₹{subTotal}</Typography>\r\n                    <Typography><b>Total:</b> ₹{uniqueBill.total}</Typography>\r\n                <hr/>\r\n                <Grid container>\r\n                    <Button style = {{left: 4}} startIcon={<SaveIcon />} variant=\"small\" onClick = {generatePDF}>Pdf</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\nexport default PrintBill\r\n\r\n// const billCustomer=useSelector((state)=>{        \r\n//     return state.customers.find(c=>c._id === uniqueBill.customer)\r\n// })\r\n// console.log(\"BillCustomer\", billCustomer)\r\n// billCustomer && billCustomer.name\r\n"]},"metadata":{},"sourceType":"module"}