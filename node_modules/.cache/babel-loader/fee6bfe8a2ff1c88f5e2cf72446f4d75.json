{"ast":null,"code":"import axios from 'axios';\nimport swal from 'sweetalert';\nexport const startBillsList = () => {\n  return dispatch => {\n    axios.get(\"https://dct-billing-app.herokuapp.com/api/bills\", {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n      dispatch(getBills(result));\n    }).catch(err => {\n      swal(err.message);\n    });\n  };\n};\nexport const getBills = bills => {\n  return {\n    type: 'GET_BILLS',\n    payload: bills\n  };\n};\nexport const startAddBill = bill => {\n  return dispatch => {\n    axios.post(\"https://dct-billing-app.herokuapp.com/api/bills\", bill, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n      console.log('added bill', result);\n\n      if (result.hasOwnProperty(\"errors\")) {\n        swal({\n          title: result.errors,\n          icon: 'error'\n        });\n      } else {\n        dispatch(addBill(result));\n      }\n    }).catch(err => {\n      swal(err.message);\n    });\n  };\n};\nexport const addBill = bill => {\n  return {\n    type: 'ADD_BILL',\n    payload: bill\n  };\n};\nexport const startDeleteBill = id => {\n  return dispatch => {\n    axios.delete(`https://dct-billing-app.herokuapp.com/api/bills/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      const result = response.data;\n      dispatch(deleteBill(result._id));\n      swal(\"Poof! bill has been deleted!\", {\n        icon: \"success\"\n      });\n    }).catch(err => {\n      swal(err.message);\n    });\n  };\n};\nexport const deleteBill = id => {\n  return {\n    type: 'DELETE_BILL',\n    payload: id\n  };\n};","map":{"version":3,"sources":["C:/billing-apph/src/Actions/billsAction.js"],"names":["axios","swal","startBillsList","dispatch","get","headers","localStorage","getItem","then","response","result","data","getBills","catch","err","message","bills","type","payload","startAddBill","bill","post","console","log","hasOwnProperty","title","errors","icon","addBill","startDeleteBill","id","delete","deleteBill","_id"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport swal from 'sweetalert'\r\n\r\nexport const startBillsList = () => {\r\n    return (dispatch) => {\r\n        axios.get(\"https://dct-billing-app.herokuapp.com/api/bills\", {\r\n            headers : {\r\n                'Authorization' : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then((response) => {\r\n            const result = response.data\r\n            dispatch(getBills(result))\r\n        })\r\n        .catch((err) => {\r\n            swal(err.message)\r\n        })\r\n    }\r\n}\r\n\r\nexport const getBills = (bills) => {\r\n    return {\r\n        type : 'GET_BILLS',\r\n        payload : bills\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const startAddBill = (bill) => {\r\n    return (dispatch) => {\r\n        axios.post(\"https://dct-billing-app.herokuapp.com/api/bills\", bill , {\r\n            headers : {\r\n                'Authorization' : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then((response) => {\r\n            const result = response.data\r\n            console.log('added bill',result)\r\n            if(result.hasOwnProperty(\"errors\")){\r\n                swal({title : result.errors ,icon : 'error'})\r\n            }else {\r\n                dispatch(addBill(result))\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            swal(err.message)\r\n        })\r\n    }\r\n}\r\n\r\nexport const addBill = (bill) => {\r\n    return {\r\n        type : 'ADD_BILL',\r\n        payload : bill\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const startDeleteBill = (id) => {\r\n    return (dispatch) => {\r\n        axios.delete(`https://dct-billing-app.herokuapp.com/api/bills/${id}`, {\r\n                   headers : {\r\n                       'Authorization' : `Bearer ${localStorage.getItem('token')}`\r\n                   }\r\n               })\r\n               .then((response) => {\r\n                   const result = response.data\r\n                   dispatch(deleteBill(result._id))\r\n                   swal(\"Poof! bill has been deleted!\", {\r\n                            icon: \"success\",\r\n                          })\r\n                   \r\n               })\r\n               .catch((err) => {\r\n                   swal(err.message)\r\n               })\r\n    }\r\n}\r\n\r\nexport const deleteBill = (id) => {\r\n    return {\r\n        type : 'DELETE_BILL',\r\n        payload : id\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}